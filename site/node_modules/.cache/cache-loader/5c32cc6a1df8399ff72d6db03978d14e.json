{"remainingRequest":"C:\\Users\\Colinear\\Dropbox\\Workspace\\Web\\VueSoStatic\\site\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Colinear\\Dropbox\\Workspace\\Web\\VueSoStatic\\site\\node_modules\\vue-loader\\lib\\selector.js?type=script&index=0!C:\\Users\\Colinear\\Dropbox\\Workspace\\Web\\VueSoStatic\\site\\src\\components\\Messages.vue","dependencies":[{"path":"C:\\Users\\Colinear\\Dropbox\\Workspace\\Web\\VueSoStatic\\site\\src\\components\\Messages.vue","mtime":1534002801032},{"path":"C:\\Users\\Colinear\\Dropbox\\Workspace\\Web\\VueSoStatic\\site\\package.json","mtime":1535811265818},{"path":"C:\\Users\\Colinear\\Dropbox\\Workspace\\Web\\VueSoStatic\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1524914320675},{"path":"C:\\Users\\Colinear\\Dropbox\\Workspace\\Web\\VueSoStatic\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\Users\\Colinear\\Dropbox\\Workspace\\Web\\VueSoStatic\\site\\node_modules\\vue-loader\\lib\\selector.js","mtime":1520395331000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.values\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nimport moment from 'moment';\nimport zipcelx from 'zipcelx';\nimport * as api from '../firebase_api';\nexport default {\n  name: \"Messages\",\n  data: function data() {\n    return {\n      startDatePicker: {\n        date: moment().subtract(1, 'months').format(\"YYYY-MM-DD\"),\n        menu: false,\n        modal: false\n      },\n      endDatePicker: {\n        date: moment().format(\"YYYY-MM-DD\"),\n        menu: false,\n        modal: false\n      },\n      selectedForm: -1,\n      onlyValidCheckbox: true\n    };\n  },\n  computed: {\n    listOfForms: function listOfForms() {\n      console.log('*******', this.currentWebsite.forms);\n      var res = [];\n      res.push({\n        'id': -1,\n        'alias': 'All'\n      });\n      if (this.currentWebsite.forms === undefined) return res;\n      var formsList = Object.values(this.currentWebsite.forms);\n\n      for (var i = 0; i < formsList.length; i++) {\n        res.push({\n          'id': formsList[i].key,\n          'alias': formsList[i].alias\n        });\n      }\n\n      return res;\n    },\n    currentWebsite: function currentWebsite() {\n      return this.$store.getters.currentWebsite;\n    }\n  },\n  methods: {\n    onDownloadPressed: function onDownloadPressed() {\n      api.pullMessages(this.currentWebsite.key, this.selectedForm, this.startDatePicker.date, this.endDatePicker.date, this.onlyValidCheckbox, function (res) {\n        download(JSON.stringify(res, null, \"\\t\"), 'json.txt', 'text/plain');\n      });\n    }\n  }\n};\n\nfunction download(content, fileName, contentType) {\n  var a = document.createElement(\"a\");\n  var file = new Blob([content], {\n    type: contentType\n  });\n  a.href = URL.createObjectURL(file);\n  a.download = fileName;\n  a.click();\n}",{"version":3,"sources":["Messages.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AAGA;QAEA;wBACA;;;oDAIA;cACA;eACA,AACA;AAJA;;8BAMA;cACA;eACA,AACA;AAJA;qBAKA;yBAGA,AACA;AAfA;AAgBA;;wCAEA;iDACA;gBACA;;;iBAEA;;wCACA,kBACA;wDAEA;;iDACA;;;gCACA;;AAIA;;aAEA;AACA;8CACA;iCACA;AACA,AACA;AAtBA;;oDA0BA;8JACA;8DACA;AAIA;AACA,AACA;AAXA;AA5CA;;AAyDA,kDACA;iCACA;;UACA;;+BACA;eACA;IACA","file":"Messages.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n\r\n    <v-flex xs12>\r\n        <v-card>\r\n            <v-layout align-content-center>\r\n\r\n                <v-flex md3 d-flex class=\"pl-5 pt-3 pb-0\">\r\n                    <v-select\r\n                            :items=\"listOfForms\"\r\n                            item-text=\"alias\"\r\n                            item-value=\"id\"\r\n                            v-model=\"selectedForm\"\r\n                            label=\"Form\"\r\n                            outline\r\n                    ></v-select>\r\n                </v-flex>\r\n\r\n\r\n                <v-flex md3 d-flex class=\"pl-5 pt-3 pb-0\">\r\n                    <v-menu\r\n                            ref=\"startDatePicker\"\r\n                            :close-on-content-click=\"false\"\r\n                            v-model=\"startDatePicker.menu\"\r\n                            :nudge-right=\"40\"\r\n                            :return-value.sync=\"startDatePicker.date\"\r\n                            lazy\r\n                            transition=\"scale-transition\"\r\n                            offset-y\r\n                            full-width\r\n                            min-width=\"290px\"\r\n                    >\r\n                        <v-text-field\r\n                                slot=\"activator\"\r\n                                v-model=\"startDatePicker.date\"\r\n                                label=\"Starting from\"\r\n                                prepend-icon=\"event\"\r\n                                readonly\r\n                        ></v-text-field>\r\n                        <v-date-picker v-model=\"startDatePicker.date\" no-title scrollable>\r\n                            <v-spacer></v-spacer>\r\n                            <v-btn flat color=\"primary\" @click=\"startDatePicker.menu = false\">Cancel</v-btn>\r\n                            <v-btn flat color=\"primary\" @click=\"$refs.startDatePicker.save(startDatePicker.date)\">OK\r\n                            </v-btn>\r\n                        </v-date-picker>\r\n                    </v-menu>\r\n                </v-flex>\r\n\r\n\r\n                <v-flex md3 d-flex class=\"pl-5 pt-3 pb-0\">\r\n                    <v-menu\r\n                            ref=\"endDatePicker\"\r\n                            :close-on-content-click=\"false\"\r\n                            v-model=\"endDatePicker.menu\"\r\n                            :nudge-right=\"40\"\r\n                            :return-value.sync=\"endDatePicker.date\"\r\n                            lazy\r\n                            transition=\"scale-transition\"\r\n                            offset-y\r\n                            full-width\r\n                            min-width=\"290px\"\r\n                    >\r\n                        <v-text-field\r\n                                slot=\"activator\"\r\n                                v-model=\"endDatePicker.date\"\r\n                                label=\"Until\"\r\n                                prepend-icon=\"event\"\r\n                                readonly\r\n                        ></v-text-field>\r\n                        <v-date-picker v-model=\"endDatePicker.date\" no-title scrollable>\r\n                            <v-spacer></v-spacer>\r\n                            <v-btn flat color=\"primary\" @click=\"endDatePicker.menu = false\">Cancel</v-btn>\r\n                            <v-btn flat color=\"primary\" @click=\"$refs.endDatePicker.save(endDatePicker.date)\">OK</v-btn>\r\n                        </v-date-picker>\r\n                    </v-menu>\r\n                </v-flex>\r\n\r\n                <v-flex md2 d-flex class=\"pl-5 pr-5 pt-4 pb-0\">\r\n                    <v-checkbox\r\n                            label=\"Only valid\"\r\n                            v-model=\"onlyValidCheckbox\"\r\n                    ></v-checkbox>\r\n                </v-flex>\r\n\r\n\r\n                <v-flex md3 d-flex class=\"pl-5 pr-5 pt-3 pb-0\">\r\n                    <v-btn depressed large color=\"primary lighten-1\" @click=\"onDownloadPressed\" class=\"pr-3\">\r\n                        <v-icon dark class=\"pr-3\">cloud_download</v-icon>\r\n                        Download\r\n                    </v-btn>\r\n\r\n                </v-flex>\r\n\r\n            </v-layout>\r\n\r\n        </v-card>\r\n    </v-flex>\r\n</template>\r\n\r\n<script>\r\n    /* eslint-disable */\r\n    import moment from 'moment'\r\n    import zipcelx from 'zipcelx'\r\n    import * as api from '../firebase_api';\r\n\r\n\r\n    export default {\r\n        name: \"Messages\",\r\n        data: function () {\r\n            return {\r\n\r\n                startDatePicker: {\r\n                    date: moment().subtract(1, 'months').format(\"YYYY-MM-DD\"),\r\n                    menu: false,\r\n                    modal: false\r\n                },\r\n                endDatePicker: {\r\n                    date: moment().format(\"YYYY-MM-DD\"),\r\n                    menu: false,\r\n                    modal: false\r\n                },\r\n                selectedForm:-1,\r\n                onlyValidCheckbox:true\r\n\r\n\r\n            }\r\n        },\r\n        computed: {\r\n            listOfForms: function () {\r\n                console.log('*******',this.currentWebsite.forms);\r\n                let res = [];\r\n                res.push({'id':-1,'alias':'All' });\r\n\r\n                if(this.currentWebsite.forms === undefined)\r\n                    return res;\r\n                let formsList = Object.values(this.currentWebsite.forms);\r\n\r\n                for(let i =0; i<formsList.length;i++){\r\n                    res.push({'id':formsList[i].key,'alias':formsList[i].alias })\r\n                }\r\n\r\n\r\n\r\n                return res;\r\n\r\n            },\r\n            currentWebsite: function () {\r\n                return this.$store.getters.currentWebsite;\r\n            }\r\n        },\r\n        methods:{\r\n            onDownloadPressed: function(){\r\n\r\n\r\n                api.pullMessages(this.currentWebsite.key,this.selectedForm,this.startDatePicker.date,this.endDatePicker.date,this.onlyValidCheckbox, function(res){\r\n                    download(JSON.stringify(res, null, \"\\t\"), 'json.txt', 'text/plain');\r\n                });\r\n\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    function download(content, fileName, contentType) {\r\n        let a = document.createElement(\"a\");\r\n        let file = new Blob([content], {type: contentType});\r\n        a.href = URL.createObjectURL(file);\r\n        a.download = fileName;\r\n        a.click();\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}